<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Genealogger</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/site.css" name="genealogger-site-styles">
    </head>
    <body>
        <a href="./">home</a>
        <h3><deer-view id="personBanner" deer-template="label" deer-key="name">Label</deer-view></h3>
    <deer-view id="childrenList" deer-template="childrenList"></deer-view>
        <p>
            View tree for person. <a href="javascript:location='?showall=true'+location.hash;">showall</a>
        </p>

    <deer-view deer-template="tree" id="treeDetail">Loading tree</deer-view>

    <script src="js/deer.js" type="module"></script>   
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            let params = new URLSearchParams(location.search)
            window.onhashchange()
        })
    </script>
    <script>
        window.onhashchange = () => {
            let personID = window.location.hash.substr(1)
            treeDetail.setAttribute("deer-id", personID)
            personBanner.setAttribute("deer-id", personID)
            childrenList.setAttribute("deer-id", personID)
        }
    </script>
</body>
</html>
